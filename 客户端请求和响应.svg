<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="3316px" height="2684px" viewBox="-0.5 -0.5 3316 2684" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2023-05-28T11:56:22.665Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/18.0.4 Chrome/100.0.4896.143 Electron/18.2.3 Safari/537.36&quot; etag=&quot;9GybO6VpiuZzecfQqRKa&quot; version=&quot;18.0.4&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;Nl182oHf97EiaET7qgCz&quot; name=&quot;第 1 页&quot;&gt;7V3rc+JGEv9rqPJelSmN3vqIMN5cJZtL7V5Vko8YZJsEIyLw2r6//qbnpXm0BHgRYJs8dtFIGknTPT3dv35MLxg+PH+uxsv7L+W0mPd8b/rcC656vp+kSUz/gpYX3uKnacBb7qrZlLd5dcO32f8K3khk6+NsWqxEG29al+V8PVuajZNysSgma6NtXFXlk3nZbTmfGg3L8V3hNHybjOdu6++z6fpefEYQxPWJn4rZ3b18dByF/MzDWF4tPmV1P56WT1pTMOoFw6os1/zXw/OwmMPwmQNz3XBWvVlVLNbb3LD+2fO8+Nq//hL9/DT/5Wr+7Zeby1B8x2r9Ij+5mNIREIdltb4v78rFeD6qW/OqfFxMC+jWo0f1Nb+U5ZI2Etr4V7Fevwhyjh/XJW26Xz/MxVn6xtXLH/rBn9BZP4gT2XD1LLrnRy/60W9FNXso1kUlGm/LxVo8i6T0eLUeV+sBUJ+2TObj1Wo2kc3Xs3n9FlN50aJcFLxFnIdu+cjAcDSOuGhalY/VpGgZZsH09AXuinXLdX6sGIPOqaKkX1m90BurYj5ez76bLzIWvH2nrqupT38IBtiBGcRbfh/PH8WTen48X4sRNrgk/ucR+DY3ft2Jv9tvgROXK0auAb2ApMtntKPJfEbHuX81G88v6rPryVK/lH4o5fp4/EAZL2fPvRxPp9Un+RY3lXqvUdQbjHoDvzeKe2nay5PeKOkN8t7gGk7leS8fiJaUXkwvuO5lI3YxvSuSHdKB5V9mfq32nKYLrWlGxcESfoJIAk7mXCzOA3uuxzdS5Ph+xBuUqIkz3vBbuZqtZ+WCNs2L27U5zW74PP3lRjbMxzfF/N+Ln4oxeyRro5JzPZ4ttOP5fLxczW7Yi8A8qIrJY7Wi3Pe14GTTZsf3oloXz+3zw2VncUNAIn6LWB1ImPDjp1rUEt8T8vNeE7NpFnc0B0JkDliU00Z4q0FonmvuyGhfHseB++F+KN5na4kgnvFbOWPzUb5mYIx8ZnVQ3t6uqKCyB1O96OvH1w+PseDYK0TxPFv/wZYcP4zEMSxBl17f8xLRUC9BcPCiHdgLkFrPvH6kr2hqeWtYzQ63ULXJ+42rFwm3XL7CY65eYbp56h6B1d4djZMfJDK7lX7r+EW7YAniadUsrxJrqYij1FR2d7ue/uBvsFfZRrDF43gK1K/F05DpUBdgHXFdqVyuUd2IqzshaEJZzvSeZm3prAm9QhPaRQl4lmu9wcJh5jnaUZz4ro4QpGFHIlZOqs61I9KwkuifLk1wQz2KoretHkn1DhEhq+V4saUIuQWriAoHuMqblNNi0gdhAD+uHxdfxstelFNJ0Gct/32hsy+60mYrf1LDbK0XSCDx0/1sXXxbjtna8lSNl+2L4S1d0IblvKxYX8Eohn874RRlYhiEJFJEa4wUSOqac6grLaXZyN6BwH+tygWQdLQA6lZMwH/q86MLXca/L2paEpGkR6dm84q/AzWrYv1YwcULuWKziXlxy+nqrtzvi6pBZlDVj7MjUzVC5ijVh6galOUGVpQPe1kMytOA6kYB05C8XkqYFpX1BikoT1SXomw6ynqpB2ehH3rjFTtFu/Ic4tHhtbSX8Xx2B3rNhA4zU5CACLPJeD4QJx5m0ym3XkAvGdcKi1Crab9RDjKe9kUNFqG7EGaGVOXfhSS3sDx0DpBNFpN0xgyhVCnkHPdjhxtIhkBCfleIUIQoPaMQmCAdMcUaDigLXAEjpCOmKlMiXwNrIJo2Y4RsIFTuNAFRzphqAPcINpNdcLWbXg2Szu7rP0um78Ljr3sDwjR1oinoJvaZZ708loo+0/jpLekQ7qJsCbdTjh1Ay5khDYaMYpMhIwSkjBDxlPldMWSMMCRmwAEnXTFLLmGYdgTUBYG1jeSiP3zGDRgzpRFjJmYjpgHCgnC7B7NBsi9f18Qt8Hr0lhG81ZnbDG4LTYUVWwxRRDzsajGUq/OPqThUe+FqTFFVunFCx2tVcEG2eqPaTbsRHyem9PAQ5YYglmzQmYPD2wc9a0TJIuiiEC47+uOprP5+4FeBU65Yrd6qBttO48hyYyWIWSLnpzFnO4PCyV7Nkk1A4rsipjVh/chF3VBidmdjZs6AHjFEI6aa6L5DNMQiq7tEeEdT129Se0VqhLE7r4h0SHfu+XqVU4R4aWAxa2KxWwdeDjkmiHC5mZeTv0GKFKiIeaCjOFtwr4Wn/R96woPh3ZQVw+PhCsEVjJzT6WxxJ25s8HYwrTZnNpSwrEw0ZReVVIk1/YMsN8dRPzXuZUOwI41voq9PEJn9CTEOTv4L25xJp/nKgps0VaiXIN+xKv6hF5CT/xz3zScTfsfn8oZPKOzzmILALuOqgn3+5vGWn4YfzlnolZ29K28A3r4qNHjbvbxY8MtF+NfiZrXkXyhul+g4fRbm9Eyu3iAVlnQBVLc9jP8uLh6YO+eRrgxxSI3cT/8ajkGI7/65h9DapC0vXLRdKXFJaHoKIs8FbZSpbWhxUWeoDWJ3tWE09MeVQAQz+jvGcL6PBZ20kzyUIeMtrj6C+ow7A44RKwyJNGXegIwI/YWu60js6ZnQGqF9C5BNST9ySU0QG607Uvu7TO7JGQvdhs42FIpY4kTGSxyEyj4CvB8xvsvyFvM4D/a7Ify9ca2JAc1PUw2+38JDcMwwsID4PSsMLOy9hTCw9oB4alunBs8HSER8FCOLWJx0FfPlY+a+Rbq9xHw15b7oKluGhMQHnmj80ZgvMwwhiA4W9BW4q8fEtSalmcP/FOZmk4nJb6TCo9mOo3/v2bo4bdi3ib+kyWBCaQEG4kfIzCNB1NHMC9wwlLsSCMcTo6gUKii3X3x64wNPrIkX+YjLU2ZVGhM/62rg3aguhavJifm2h9w3VasICaQ78JAfKrJ408iYvJgisAG2BnXnygtcnVOFBXp8Zfi1eJKYXBNSptjXWkVOD8vDsbs3Pdss93CWugtLjEBRHS4sbqaUzVOgHLzpQSexbT0icBCmSYddibio2W92xPRqUOcuVkX1fTYpvqzvy6mI16juVlZ2Nf+zKpbzl5YUIj2ykMVFgpcq7g2GtJGpjnCaBzZSq5NepwbhKIZkyrI9DUPSfweGpJ9ZYUckc5UqQpVcROx4gdfRDIgRlKyTRT5qyFHcepEnJEJi7EjWlUSOWzROmDX9UVVR2XniInnDsEPuniGSvWOL5NjVOid0tK8A6NQzqLio/Fy2CkomGflPZjlP7lmklTCYoZl8QgTnhJ1G7HxezeJCvlAf/jh5VWgDC4QWdO+5wH2MCaW0M5F0WpCu4jQcwM2HsF7CcnoFbiFYcj0Wf82iP3jUtp1dck7W3VOy7gbWDkz8KJSgnsbamY8ItyjubFE5FHIbb0ZuEyxlJ5Q6+VvN1o1dQ0rM4FWxmDLRffISu4l4ygtnsrXvOuF8TFfqDBCRCREnFn7YuIwLuB5OYyDLN6FRFEylYI9YGU0+koIzAKWDXavUD/uSr0wbYdfUiol9EVN02DVTpvIMtVXgRAOi3lcU04bJF5jeQNWvDh1hawqRltbeZ19ymsG/s1vFwwzAYlNwMWMzMslPn6s3JWcwvr1cccaFnpZV0dRTD1B6Q6HTkzO0QWq2UzwM4Dn5QfzIooEgAY5BgHhwOosTyFxbunaaMdZ6V3pQ6lquh9WDSICIYm4IZteialPGR/7DB5ptnEsmcRXgpANTMnHzIJFmBHHRMOoNZQ0JStKogbijawYUDAViQCdmjQ8kgLnnDEzIzpyAlAsycfMwQCJLs4NyAlYwiOfxACcwF0s+4JwgK0VsQ/eaSaikYDUpeE0LgJXc7CK3uoB4VpN8cdEr2mkqa+3St/G1fC07casq7mYrymtD0TkrRCDCXdjDQvaVCXu72E3sapoXISuy4Va8/uA875mqRIjGUyvD/yBFBwiWwexwvWIJlGENZBRYog+67wXquwyhPErGmdODqVKzK3dXhuJUGnNresRSMqgkkLJYFsMYqqV3e76MWe7eSOtLcCp7a2akqxoz6MyyJzCrHQMvr1oSGDr4CplS4NShQZ7l4ssfbOZsgHzjzKpHRtzQjjBC3BlJV+4MgiUi2ERD86o1Epq5442lk3t12WRVJBkGJkqivqypzJLCGeiPlU3mb7Z79rYc0o3p29K7szF9m+MlrQg2ptzLth/Fr2PTLRZ6Fn/wDxV31SzidOQTs6MgsjriA+F0tLcCuFjltB19Y37YYN9TLSYAmcVzEHK59LvKAJVu4AEzhK4TdFLrP5huA4lYmRYhs6137IPLQyusNEAq1oZYqSy/Kz0icZW9Y5cA77TYxbb7kSR7qVfhyp8s60cJCf2U/ZkF9v4OXtz3tH8sz2fH0ilxg2w+l8q+4MaGZqU0bhYSg2DJWU1HqnYqSwaUQWVvaXcJm4wrVerH4OtvQ6m4spysdMBye12XvtLYuFYXKNEFL6/eV8Xaie6xcIHGnlwhOGxQVbkE9l011B0+2ncGr6hbpVx6p/BsqunWj8/gPm6e0kHIRpoyqq5J4DNSpnHDy7DPyAIxelRdhrd3Zblm5raMFKwdw7aROh3wckMGWWTvqRIgaZOJDE4wnEakM6cRtjPD0YNswEWPh9lA7U4iLCTBr6cTsfpeUx8Tmfaj6mwi2kPmI4wbSohs/4yLxRpYtNtLBA2fIa32RxoihmQQdJL7mFoLc3cRNDKw78T8yUJE3LPJ0TdjNFSKBKxR4lRfnnOiO62O/lG3syzN9stF0K+4oUE2vhuHZ9MckFk0VkS7VO2N1CwsaNvrSjqkLkZpFcMU5JxM+r9XdLAvrKAgg9rc9c6YCsJ7Tj5ubAO5YiudFknqDLFqLJ1lGKZupC+bgkgNU5VgW7sh3kYs36YpZKmGnrvABj5W2rIrmhAPg/mplhXIYGaqiA8lbJ4y24jbTFxtt7EfZkZkehV1BZt/LKBmAyMogFEB10hplcO6OT0EuAbFe8QcIyymfTDCcDzGBbm7q+DHpnAUW6GDJMSKJGGVxDukMebKZtsP5BmzuYHGbKXUfFAKPmDmWM4TDUfMQBO2vVg/hWE/uimnL4hLELX06KmMWJs4OJ69M2cZnGWDvEiiQ+AjtkpnzuL0JBNrMe0B892aa91wH2vdGZ3YOzpBktRaMiOkQEwqEW0zy6WrBJ90ix1P9wJPpA1+Hx1S9DDFUQbSvVV4InPhCTG9ZaWkiGV+9MGUiK4MbODUjYUmouLGgi/9dkcrESP309FowcL+pZE9pwKGEgQi/ofwnzqzun9cT8unxfsiyPGtt8xV5wQmVqNcCmv/552NfozFfx90OrQVqVJkgGnA8mDe0+AHgRtndeDBx7bgiplbk2tt19J7GIGCB8paIowLvqsWtITMymAWbR1oyEzbNBD+Taro5R/OANnADA54Ic3Ko+0QmGGZGDZ20RSHpCqtyg3/ztQ20+otaiMbopEQUbu7ozaWmhGzoPZcBnJ4mg0ngpVbjTmXLTaadxaQgaQDqAdvkwayXVgxfEAqwywyhskkCqHle2IyyIZ+XM7qClNRlyY10qLKW4yw7VTreL3zHDCzUsywTj9EVD8srq67OGMP8ds60TduVkrTHqcty+JH3/VgR/kYRIhiGhxSPhLP1UwdonUcgw5AjBaBTiKv78sWOwpd7XSmDvhOZ0nUa9/ojH/UXuIxJYS5MVA93VxqpcNAdQv6desMbBuontgd2bFnXQeqy2zOU8OMeULT1lCtFajIZaoVFHnGfX8A9808a+kNYqRaoI/hLmHcVeCJctd2DvyKedKO/KbI6qLUkbeK/BLSvIfqKdUZUpLjofxeMF/TPSA/+t6sbz4yrJELtw8NC7CNYrqLa5HLmes3mEz6X6lwy8vpC/MK9r+KgrqnDdDtSAI/9V0SHDa0iDSnoh17/lqJyB9hilq7KgdRioSj+OhK0lkBFeLaKeYk5VqIHbV5//Yn66l5kghxiwdJUExlZKAw2QeN/tpE4TDaIsDvsMFfBHOZUPLFIkctG4m9D5tIjPADz9fim5MRwNsbtz3LVM6wFk0KiGnGdjMLfxSdxcv1ZgwFdZPS7Kc7QNnmcio4BKtjbfzhPCjuqjX/LYbBBKjagGCxZ6aeLOw/YlvJxcyvlajeDYCX2qHQu3jBFsj3PHut2WvVElY1gPS1MkT8nWpJ62D6Nvi4jBnJQy81JoSYNlkaBWI8G+ussIqmbZMIq7fCHCyiHssHDfTeyEpWcR+1zZkBDx+0tA/B/GeqGk0ifedYIjSIqexMYrt6nZVqg2zmdeC1Htm57hRsr9vHxYSevhAYCqt4ClseSXPsXCvWrBVbZ+E721L0ZIzjuUzsaRveqe0fxGpIY/taZp2h18j2is6g/6B/ULr0SM9w6W3y6KF+xbqY1bN2ahcvYLsLaqNzUInTjd5BAXodyz2YWEWJla9kZ/dganVErI66dg9KjjwAi3q7segW7LZ1EaB0S7aKN1cn6NLpbO/kRxL/dWwVELsn3+qpc77CtjndU30036iP1rDXu9y+9qOVM2t382amBh3JKoq6Bp1gMTSdGUk+gpbti1ECk1F4sZsUAo3zRIOHxKaNDXGrZw4yOci3IBtVnl03tLG0yA556BVll7bloUjjITuHUUEzMkdqY2biB2Wayyy2g5sTxCsmS2cchmsCJLakjvy1MdwhX0/wosYJQ+70avRW4W8WFszLxUHUdMq2t6/3tUe2lN0i3kkv+Ub75s/Jr+AykRWesdJfSKEvdWdLPegQ+sqvFS4l8tWNXHIbrJQZ6iLMVWWoswFCNusWZa0zwL+glCkr/J8NRH+UAiLWemSlrtt4rKwscwiLdh/zgcSy6EQdbuXilQeuXkfC7u1VaXf2g8g3bM8sk8WTceuzPaC1H1KD0DAvYGOJDTYwHL2iUvPerY5tYs86NDsuQzvq3gFMt7U7LgOrwHMdonQwwwPj4T3pAsQxPHQfX0shVS7eR7VUP+sHhjxMTK4hqZv65JODmiURZr92hIv0wyzWhdel1/e88DXSqxavEsr7U7zLboJ1j1JwW0SvqeL2gaAXudJKDlRe550r0ydWTypD82Cl6V9RJWZbCRhiFvXu5WM/qJgjgQXLebEbwKtiIA4k6F6RH7Itt8SG7byDPaMFQ+QyMgkJLbJiLhojJ7QsUa3QFsRTjF/OPGqb6qnFpL7nrsZRsB8mpYdVCTxTS0Bql91/KacFXPF/&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><path d="M 2088.63 448 L 1981.67 448 L 1868 447.36" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2093.88 448 L 2086.88 451.5 L 2088.63 448 L 2086.88 444.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2095 69 L 2095 0 L 2320 0 L 2320 69 M 2095 69 L 3295 69 L 3295 896 L 2095 896 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 35px; margin-left: 2207px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style=""><font style="font-size: 18px;">client.Dial("tcp", &lt;-addr)<br />客户端建立连接</font><br /></font></div></div></div></foreignObject><text x="2207" y="38" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">client.Dial("tcp", &lt;-addr)...</text></switch></g><rect x="2108" y="91" width="663" height="242" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 2283.64 480.94 L 2283.67 411.67 L 2439.67 411.67 L 2439.5 333" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2283.64 486.19 L 2280.14 479.19 L 2283.64 480.94 L 2287.14 479.2 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2797.37 658 L 2810 658 L 2839 658" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2792.12 658 L 2799.12 654.5 L 2797.37 658 L 2799.12 661.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2119 559 L 2119 490 L 2344 490 L 2344 559 M 2119 559 L 2791 559 L 2791 874 L 2119 874 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 525px; margin-left: 2232px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style=""><font style="font-size: 18px;">NewClient(conn, opt)<br />返回客户端</font><br /></font></div></div></div></foreignObject><text x="2232" y="529" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">NewClient(conn, opt)...</text></switch></g><rect x="2132" y="581" width="636" height="255" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="2150" y="604" width="391" height="38" rx="5.7" ry="5.7" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 389px; height: 1px; padding-top: 623px; margin-left: 2151px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="">f := codec.NewCodecFunMap[opt.CodecType]</span></div></div></div></foreignObject><text x="2346" y="628" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">f := codec.NewCodecFunMap[opt.CodecType]</text></switch></g><rect x="2143" y="674" width="391" height="38" rx="5.7" ry="5.7" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 389px; height: 1px; padding-top: 693px; margin-left: 2144px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="">json.NewEncoder(conn).Encode(opt)</span></div></div></div></foreignObject><text x="2339" y="698" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">json.NewEncoder(conn).Encode(opt)</text></switch></g><rect x="2158" y="759" width="391" height="38" rx="5.7" ry="5.7" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 389px; height: 1px; padding-top: 778px; margin-left: 2159px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="">return newClientCodec(f(conn), opt)</span></div></div></div></foreignObject><text x="2354" y="783" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">return newClientCodec(f(conn), opt)</text></switch></g><rect x="2541" y="616" width="190" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 629px; margin-left: 2636px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">创建编解码器构造函数</div></div></div></foreignObject><text x="2636" y="634" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">创建编解码器构造函数</text></switch></g><rect x="2575" y="647" width="151" height="92" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 693px; margin-left: 2651px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">从conn中获取<br />通过json序列号的<br />Option信息<br />并进行校验</div></div></div></foreignObject><text x="2651" y="698" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">从conn中获取...</text></switch></g><rect x="2560" y="759" width="200" height="48" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 783px; margin-left: 2660px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">返回初始化编解码器和<br />其它信息后的Client实例</div></div></div></foreignObject><text x="2660" y="788" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">返回初始化编解码器和&#xa;其它信息后的Client实例</text></switch></g><rect x="2162" y="109" width="316" height="36" rx="5.4" ry="5.4" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 314px; height: 1px; padding-top: 127px; margin-left: 2163px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="">opt, err := parseOptions</span></div></div></div></foreignObject><text x="2320" y="132" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">opt, err := parseOptions</text></switch></g><rect x="2150" y="174" width="348" height="41" rx="6.15" ry="6.15" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 346px; height: 1px; padding-top: 195px; margin-left: 2151px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="">conn, err := net.Dial(networkm, address)</span></div></div></div></foreignObject><text x="2324" y="200" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">conn, err := net.Dial(networkm, address)</text></switch></g><rect x="2162" y="250" width="348" height="38" rx="5.7" ry="5.7" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 346px; height: 1px; padding-top: 269px; margin-left: 2163px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="">return NewClient(conn, opt)</span></div></div></div></foreignObject><text x="2336" y="274" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">return NewClient(conn, opt)</text></switch></g><path d="M 3178 507 L 3178 256.67 L 2777.37 256.53" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2772.12 256.53 L 2779.12 253.03 L 2777.37 256.53 L 2779.12 260.03 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="2839" y="507" width="441" height="352" rx="52.8" ry="52.8" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 439px; height: 1px; padding-top: 683px; margin-left: 2841px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">经过newClientCodec后的Client实例</blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">最后由return NewClient()返回</blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><br /></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">Client := {<br />seq:1</blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><br />cc: GobCodec{<br />conn: conn<br />buf: buf<br />dec: gob.NewDecoder(conn)<br />enc:  gob.NewEncoder(buf)<br />}</blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><br />pending: make(map[uint64])*Call<br />}</blockquote></div></div></div></foreignObject><text x="2841" y="688" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px">经过newClientCodec后的Client实例...</text></switch></g><rect x="2505" y="114" width="136" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 127px; margin-left: 2573px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">初始化协商信息</div></div></div></foreignObject><text x="2573" y="132" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">初始化协商信息</text></switch></g><rect x="2521" y="181.5" width="118" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 195px; margin-left: 2580px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">建立网络连接</div></div></div></foreignObject><text x="2580" y="200" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">建立网络连接</text></switch></g><rect x="2536" y="250" width="142" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 263px; margin-left: 2607px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">初始化client实例</div></div></div></foreignObject><text x="2607" y="268" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">初始化client实例</text></switch></g><path d="M 1302 264 L 1302 200 L 1614 200 L 1614 264 M 1302 264 L 1868 264 L 1868 874 L 1302 874 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 232px; margin-left: 1458px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style=""><font style="font-size: 18px;">newClientCodec(codec.Codec)<br />初始化消息编解码器</font><br /></font></div></div></div></foreignObject><text x="1458" y="236" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">newClientCodec(codec.Codec)...</text></switch></g><rect x="1321" y="551" width="493" height="303" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="1375" y="574" width="356" height="135" rx="20.25" ry="20.25" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 354px; height: 1px; padding-top: 642px; margin-left: 1376px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">client := &amp;Client{<br />seq : 1<br />cc: cc<br />pending: make(map[uint64])*Call<br />}</div></div></div></foreignObject><text x="1553" y="647" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">client := &amp;Client{...</text></switch></g><rect x="1421" y="729" width="254" height="39" rx="5.85" ry="5.85" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 252px; height: 1px; padding-top: 749px; margin-left: 1422px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">go client.receive()</div></div></div></foreignObject><text x="1548" y="754" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">go client.receive()</text></switch></g><rect x="1423" y="784" width="254" height="39" rx="5.85" ry="5.85" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 252px; height: 1px; padding-top: 804px; margin-left: 1424px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">return client</div></div></div></foreignObject><text x="1550" y="809" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">return client</text></switch></g><rect x="1321" y="287" width="493" height="241" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="1357" y="298" width="361" height="135" rx="20.25" ry="20.25" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 359px; height: 1px; padding-top: 366px; margin-left: 1358px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">f(conn) = NewGobCodec(conn)<br />return &amp;GobCodec{<br />conn: conn<br />buf: buf<br />dec: gob.NewDecoder(conn)<br />enc: gob.NewEncoder(buf)</div></div></div></foreignObject><text x="1538" y="371" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">f(conn) = NewGobCodec(conn)...</text></switch></g><rect x="1463" y="454" width="166" height="49" rx="7.35" ry="7.35" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 164px; height: 1px; padding-top: 479px; margin-left: 1464px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">f(conn) = cc</div></div></div></foreignObject><text x="1546" y="484" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">f(conn) = cc</text></switch></g><path d="M 2077 1114 L 2077 1052 L 2884 1052 L 2884 1114 M 2077 1114 L 3314 1114 L 3314 2082 L 2077 2082 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1084px; margin-left: 2481px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style=""><font style="font-size: 18px;">client.Call(serviceMthod, args, &amp;reply)<br />进行一次Call请求</font><br /></font></div></div></div></foreignObject><text x="2481" y="1087" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">client.Call(serviceMthod, args, &amp;reply)...</text></switch></g><rect x="2096" y="1139" width="1150" height="195" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="2302" y="1256" width="166" height="49" rx="7.35" ry="7.35" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 164px; height: 1px; padding-top: 1281px; margin-left: 2303px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">return Call.Error</div></div></div></foreignObject><text x="2385" y="1286" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">return Call.Error</text></switch></g><rect x="2123" y="1157" width="637" height="80" rx="12" ry="12" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 635px; height: 1px; padding-top: 1197px; margin-left: 2124px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">callDone := client.Go(serviceMthod, args, reply, make(chan *Call, 1))<br />call := &lt;-(callDone.Done)</div></div></div></foreignObject><text x="2442" y="1202" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">callDone := client.Go(serviceMthod, args, reply, make(chan *Call, 1))...</text></switch></g><path d="M 2110 1553 L 2110 1484 L 2335 1484 L 2335 1553 M 2110 1553 L 3036 1553 L 3036 2049 L 2110 2049 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1518px; margin-left: 2223px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style=""><font style="font-size: 18px;">client.Go<br />异步调用函数</font><br /></font></div></div></div></foreignObject><text x="2223" y="1522" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">client.Go...</text></switch></g><rect x="2123" y="1575" width="790" height="454" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="2154" y="1904" width="250" height="41" rx="6.15" ry="6.15" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 248px; height: 1px; padding-top: 1925px; margin-left: 2155px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">client.send(call)</div></div></div></foreignObject><text x="2279" y="1930" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">client.send(call)</text></switch></g><rect x="2148" y="1705" width="326" height="162" rx="24.3" ry="24.3" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 324px; height: 1px; padding-top: 1786px; margin-left: 2150px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">call := &amp;Call{<br />ServiceMethod: serviceMethod,<br />Args: args,<br />Reply: reply,<br />Done: done,</blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">}</blockquote></div></div></div></foreignObject><text x="2150" y="1791" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px">call := &amp;Call{...</text></switch></g><rect x="2148" y="1591" width="334" height="74" rx="11.1" ry="11.1" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 332px; height: 1px; padding-top: 1628px; margin-left: 2150px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">if done == nil {</blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><span style="white-space: pre;">	</span>done = make(chan *Call, 10)<br /></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">}</blockquote></div></div></div></foreignObject><text x="2150" y="1633" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px">if done == nil {...</text></switch></g><rect x="2154" y="1969" width="250" height="41" rx="6.15" ry="6.15" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 248px; height: 1px; padding-top: 1990px; margin-left: 2155px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">return call</div></div></div></foreignObject><text x="2279" y="1995" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">return call</text></switch></g><rect x="2494" y="1733" width="109" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1746px; margin-left: 2549px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">生成call实例</div></div></div></foreignObject><text x="2549" y="1751" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">生成call实例</text></switch></g><rect x="2427" y="1919" width="199" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1932px; margin-left: 2527px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">传入call实例，引用类型</div></div></div></foreignObject><text x="2527" y="1937" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">传入call实例，引用类型</text></switch></g><rect x="2418" y="1965.5" width="420" height="48" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1990px; margin-left: 2628px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">因为call的引用类型，所以最后返回的call实例<br />是已经经过registerCall和receive处理后的call实例了</div></div></div></foreignObject><text x="2628" y="1995" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">因为call的引用类型，所以最后返回的call实例...</text></switch></g><rect x="2771" y="1170" width="457" height="70" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1205px; margin-left: 3000px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">因为receive最后调用call.done()<br />也就是说将reply写入完成后的call实例放入了call.Done中<br />所以可以直接通过call.Done中调用</div></div></div></foreignObject><text x="3000" y="1210" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">因为receive最后调用call.done()...</text></switch></g><path d="M 2685.5 1553 L 2675.76 1340.36" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2675.52 1335.12 L 2679.33 1341.95 L 2675.76 1340.36 L 2672.34 1342.27 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="2698" y="1442" width="451" height="28" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1456px; margin-left: 2924px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 24px;">8、将处理好的call请求，返回给client.Call</font></div></div></div></foreignObject><text x="2924" y="1461" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">8、将处理好的call请求，返回给client.Call</text></switch></g><path d="M 1997 1259 L 2073.2 1259" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2078.45 1259 L 2071.45 1262.5 L 2073.2 1259 L 2071.45 1255.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1265" y="1203" width="732" height="112" rx="16.8" ry="16.8" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 730px; height: 1px; padding-top: 1259px; margin-left: 1266px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Go和Call是客户端暴露给用户的两个RPC服务调用接口，Go是一个异步接口，返回Call实例。<br />Call是对Go的封装，阻塞call.Done，等待响应返回，是一个同步接口</div></div></div></foreignObject><text x="1631" y="1264" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">Go和Call是客户端暴露给用户的两个RPC服务调用接口，Go是一个异步接口，返回Call实例。...</text></switch></g><path d="M 1051 1507 L 1051 1443 L 1363 1443 L 1363 1507 M 1051 1507 L 1973 1507 L 1973 1886 L 1051 1886 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1475px; margin-left: 1207px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style=""><font style="font-size: 18px;">client.send<br />发送请求</font><br /></font></div></div></div></foreignObject><text x="1207" y="1478" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">client.send...</text></switch></g><rect x="1070" y="1528" width="847" height="333" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="1108" y="1619" width="490" height="103" rx="15.45" ry="15.45" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 488px; height: 1px; padding-top: 1671px; margin-left: 1110px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">client.header.ServiceMethod = call.Service.Method<br />client.header.Seq = seq<br />client.header.Error = ""</blockquote></div></div></div></foreignObject><text x="1110" y="1676" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px">client.header.ServiceMethod = call.Service.Method...</text></switch></g><rect x="1114" y="1772" width="436" height="39" rx="5.85" ry="5.85" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 434px; height: 1px; padding-top: 1792px; margin-left: 1115px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">err := client.cc.Write(&amp;client.header, call.Args)</div></div></div></foreignObject><text x="1332" y="1797" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">err := client.cc.Write(&amp;client.header, call.Args)</text></switch></g><rect x="1106" y="1543" width="328" height="39" rx="5.85" ry="5.85" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 326px; height: 1px; padding-top: 1562px; margin-left: 1107px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">seq, err := client.registerCall(call)</div></div></div></foreignObject><text x="1270" y="1568" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">seq, err := client.registerCall(call)</text></switch></g><rect x="1451" y="1553" width="199" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1566px; margin-left: 1551px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">注册call到未处理队列中</div></div></div></foreignObject><text x="1551" y="1571" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">注册call到未处理队列中</text></switch></g><rect x="1619" y="1657.5" width="100" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1671px; margin-left: 1669px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">设置请求头</div></div></div></foreignObject><text x="1669" y="1676" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">设置请求头</text></switch></g><rect x="1572" y="1775" width="327" height="48" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1799px; margin-left: 1736px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">根据Write中的逻辑，header与body最后<br />向conn中写入</div></div></div></foreignObject><text x="1736" y="1804" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">根据Write中的逻辑，header与body最后...</text></switch></g><path d="M 0 1491 L 0 1427 L 312 1427 L 312 1491 M 0 1491 L 805 1491 L 805 1882 L 0 1882 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1460px; margin-left: 156px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style=""><font style="font-size: 18px;">client.registerCall(call)<br />注册Call到未处理队列中</font><br /></font></div></div></div></foreignObject><text x="156" y="1463" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">client.registerCall(call)...</text></switch></g><rect x="19" y="1512" width="708" height="349" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="55" y="1678" width="254" height="39" rx="5.85" ry="5.85" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 252px; height: 1px; padding-top: 1697px; margin-left: 56px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">client.pending[call.seq] = call</div></div></div></foreignObject><text x="182" y="1703" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">client.pending[call.seq] = c...</text></switch></g><rect x="55" y="1527" width="328" height="39" rx="5.85" ry="5.85" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 326px; height: 1px; padding-top: 1547px; margin-left: 56px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">if client.closing || client.shutdown</div></div></div></foreignObject><text x="219" y="1552" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">if client.closing || client.shutdown</text></switch></g><rect x="55" y="1592" width="254" height="39" rx="5.85" ry="5.85" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 252px; height: 1px; padding-top: 1612px; margin-left: 56px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">call.Seq = client.seq</div></div></div></foreignObject><text x="182" y="1617" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">call.Seq = client.seq</text></switch></g><rect x="55" y="1765" width="254" height="39" rx="5.85" ry="5.85" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 252px; height: 1px; padding-top: 1785px; margin-left: 56px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">return call.Seq, nil</div></div></div></foreignObject><text x="182" y="1790" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">return call.Seq, nil</text></switch></g><rect x="400" y="1530" width="190" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1543px; margin-left: 495px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">检查关闭和错误请情况</div></div></div></foreignObject><text x="495" y="1548" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">检查关闭和错误请情况</text></switch></g><rect x="330" y="1596" width="145" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1609px; margin-left: 403px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">设置call请求编号</div></div></div></foreignObject><text x="403" y="1614" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">设置call请求编号</text></switch></g><rect x="316" y="1667" width="351" height="70" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1702px; margin-left: 492px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">添加到为未处理请求队列中<br />因为call为引用类型<br />所以在这里call仍然指向client.Go创建的call</div></div></div></foreignObject><text x="492" y="1707" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">添加到为未处理请求队列中因为call为引用类型...</text></switch></g><rect x="330" y="1782" width="235" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1795px; margin-left: 448px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">返回call的序列号和错误信息</div></div></div></foreignObject><text x="448" y="1800" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">返回call的序列号和错误信息</text></switch></g><path d="M 805 1577.25 L 1099.63 1572.36" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1104.88 1572.27 L 1097.94 1575.88 L 1099.63 1572.36 L 1097.82 1568.89 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 874 2284 L 874 2220 L 1186 2220 L 1186 2284 M 874 2284 L 2102 2284 L 2102 2683 L 874 2683 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2252px; margin-left: 1030px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style=""><font style="font-size: 18px;">client.receive<br /></font>接受响应<br /></font></div></div></div></foreignObject><text x="1030" y="2255" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">client.receive...</text></switch></g><rect x="893" y="2305" width="785" height="351" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="931" y="2396" width="342" height="39" rx="5.85" ry="5.85" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 340px; height: 1px; padding-top: 2416px; margin-left: 933px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">call := client.removeCall(h.Seq)</blockquote></div></div></div></foreignObject><text x="933" y="2421" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px">call := client.removeCall(h.Seq)</text></switch></g><rect x="931" y="2502" width="328" height="39" rx="5.85" ry="5.85" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 326px; height: 1px; padding-top: 2522px; margin-left: 932px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">client.cc.ReadBody(call.Reply)</div></div></div></foreignObject><text x="1095" y="2527" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">client.cc.ReadBody(call.Reply)</text></switch></g><rect x="941" y="2578.5" width="285" height="31" rx="4.65" ry="4.65" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 283px; height: 1px; padding-top: 2594px; margin-left: 943px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">call.done()</blockquote></div></div></div></foreignObject><text x="943" y="2599" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px">call.done()</text></switch></g><rect x="929" y="2320" width="328" height="39" rx="5.85" ry="5.85" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 326px; height: 1px; padding-top: 2340px; margin-left: 930px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">client.cc.ReadHeader(&amp;h)</div></div></div></foreignObject><text x="1093" y="2345" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">client.cc.ReadHeader(&amp;h)</text></switch></g><rect x="1324" y="2330" width="100" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2343px; margin-left: 1374px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">读取请求头</div></div></div></foreignObject><text x="1374" y="2348" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">读取请求头</text></switch></g><rect x="1307" y="2363" width="244" height="114" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2420px; margin-left: 1429px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">如果请求头读取正确<br />则将call删除未处理请求队列<br />并返回删除call的实例<br />这里call的并不是一个新的call<br />而依旧是client.Go哪里创建的</div></div></div></foreignObject><text x="1429" y="2425" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">如果请求头读取正确则将call删除未处理请求队列...</text></switch></g><rect x="1282" y="2493" width="230" height="48" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2517px; margin-left: 1397px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">读取body的内容也就是Args<br />并写入到reply中</div></div></div></foreignObject><text x="1397" y="2522" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">读取body的内容也就是Args...</text></switch></g><rect x="1257" y="2604" width="100" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2617px; margin-left: 1307px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">通知调用方</div></div></div></foreignObject><text x="1307" y="2622" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">通知调用方</text></switch></g><rect x="1704" y="2541" width="356" height="93" rx="13.95" ry="13.95" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 354px; height: 1px; padding-top: 2588px; margin-left: 1706px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">func (call *Call) done() {</blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><span style="white-space: pre;">	</span>call.Done &lt;- call<br /></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">}</blockquote></div></div></div></foreignObject><text x="1706" y="2593" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px">func (call *Call) done() {...</text></switch></g><path d="M 1704 2587.5 L 1232.37 2593.91" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1227.12 2593.98 L 1234.07 2590.39 L 1232.37 2593.91 L 1234.16 2597.39 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1973 1851.2 L 2148.1 1922.11" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2152.96 1924.08 L 2145.16 1924.7 L 2148.1 1922.11 L 2147.79 1918.21 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1873" y="405" width="175" height="28" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 419px; margin-left: 1961px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 24px;">2、初始化client</font></div></div></div></foreignObject><text x="1961" y="424" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">2、初始化client</text></switch></g><rect x="2703" y="990" width="227" height="28" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1004px; margin-left: 2817px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 24px;">3、发起一次call请求</font></div></div></div></foreignObject><text x="2817" y="1009" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">3、发起一次call请求</text></switch></g><rect x="820" y="1528" width="229" height="28" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1542px; margin-left: 934px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 24px;">5、注册到pending中</font></div></div></div></foreignObject><text x="934" y="1547" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">5、注册到pending中</text></switch></g><rect x="81" y="2216" width="732" height="112" rx="16.8" ry="16.8" fill="#e6e6e6" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 730px; height: 1px; padding-top: 2272px; margin-left: 82px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">在创建Client实例时，已经启动go receive()进行接受响应，每当有send发送，也就是使用Write向conn写入header和body时<br />receive都会先从conn中读取header</div></div></div></foreignObject><text x="447" y="2277" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">在创建Client实例时，已经启动go receive()进行接受响应，每当有send发送，也就是使用Write向conn写入header和body时...</text></switch></g><path d="M 1375.54 1885.56 L 1381.07 2277.53" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1381.15 2282.78 L 1377.55 2275.83 L 1381.07 2277.53 L 1384.55 2275.73 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1856" y="42" width="215" height="28" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 56px; margin-left: 1964px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 24px;">1、创建客户端连接</font></div></div></div></foreignObject><text x="1964" y="61" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">1、创建客户端连接</text></switch></g><path d="M 2695 896 L 2690.74 1041.51" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2690.58 1046.76 L 2687.29 1039.66 L 2690.74 1041.51 L 2694.29 1039.87 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1911" y="1919" width="143" height="28" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1933px; margin-left: 1982px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 24px;">4、发送请求</font></div></div></div></foreignObject><text x="1982" y="1938" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">4、发送请求</text></switch></g><rect x="799" y="2062" width="533" height="28" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2076px; margin-left: 1066px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 24px;">6、接受响应，并将返回内容写入到call中的replay</font></div></div></div></foreignObject><text x="1066" y="2081" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="18px" text-anchor="middle">6、接受响应，并将返回内容写入到call中的replay</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>